import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState } from 'react';
import { StarRatingDisplay } from '../shared/StarRating';
import { ThumbsUp } from 'lucide-react';
export const ReviewCard = ({ reviewId, rating, guestName, stayDate, title, review, photos = [], helpful, roomName, verified = false, onHelpful }) => {
    const [showFullReview, setShowFullReview] = useState(false);
    const [selectedPhoto, setSelectedPhoto] = useState(null);
    const isLongReview = review.length > 300;
    return (_jsxs("div", { className: "bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300 p-6", children: [_jsxs("div", { className: "flex items-start justify-between mb-4", children: [_jsxs("div", { className: "flex items-start gap-4", children: [_jsx("div", { className: "flex items-center justify-center w-12 h-12 rounded-full bg-gradient-to-br from-heritage-green to-emerald-600 text-white font-bold text-lg flex-shrink-0", children: guestName.charAt(0).toUpperCase() }), _jsxs("div", { children: [_jsxs("div", { className: "flex items-center gap-2", children: [_jsx("h4", { className: "font-bold text-gray-900", children: guestName }), verified && (_jsxs("span", { className: "flex items-center gap-1 px-2 py-0.5 bg-blue-50 text-blue-700 text-xs font-semibold rounded-full", children: [_jsx("svg", { className: "w-3 h-3", fill: "currentColor", viewBox: "0 0 20 20", children: _jsx("path", { fillRule: "evenodd", d: "M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z", clipRule: "evenodd" }) }), "Verified"] }))] }), _jsxs("p", { className: "text-sm text-gray-600", children: ["Stayed at ", roomName] }), _jsx("p", { className: "text-xs text-gray-500", children: stayDate })] })] }), _jsx(StarRatingDisplay, { rating: rating, size: "md" })] }), _jsx("h3", { className: "font-bold text-lg text-gray-900 mb-2", children: title }), _jsx("p", { className: "text-gray-700 leading-relaxed mb-4", children: isLongReview && !showFullReview
                    ? `${review.substring(0, 300)}...`
                    : review }), isLongReview && (_jsx("button", { onClick: () => setShowFullReview(!showFullReview), className: "text-heritage-green font-semibold text-sm hover:underline mb-4", children: showFullReview ? 'Show less' : 'Read more' })), photos.length > 0 && (_jsx("div", { className: "mb-4", children: _jsx("div", { className: "grid grid-cols-4 gap-2", children: photos.slice(0, 4).map((photo, index) => (_jsxs("div", { className: "relative aspect-square rounded-lg overflow-hidden cursor-pointer hover:opacity-90 transition-opacity", onClick: () => setSelectedPhoto(photo), children: [_jsx("img", { src: photo, alt: `Review photo ${index + 1}`, className: "w-full h-full object-cover" }), index === 3 && photos.length > 4 && (_jsx("div", { className: "absolute inset-0 bg-black/60 flex items-center justify-center", children: _jsxs("span", { className: "text-white font-bold text-lg", children: ["+", photos.length - 4] }) }))] }, index))) }) })), _jsx("div", { className: "flex items-center gap-4 pt-4 border-t border-gray-100", children: _jsxs("button", { onClick: () => onHelpful && onHelpful(reviewId), className: "flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-50 hover:bg-heritage-green/10 hover:text-heritage-green transition-colors duration-200", children: [_jsx(ThumbsUp, { className: "w-4 h-4" }), _jsxs("span", { className: "text-sm font-semibold", children: ["Helpful (", helpful, ")"] })] }) }), selectedPhoto && (_jsx("div", { className: "fixed inset-0 z-50 bg-black/90 flex items-center justify-center p-4", onClick: () => setSelectedPhoto(null), children: _jsxs("div", { className: "relative max-w-4xl w-full", children: [_jsx("img", { src: selectedPhoto, alt: "Review photo", className: "w-full h-auto rounded-lg" }), _jsx("button", { onClick: () => setSelectedPhoto(null), className: "absolute top-4 right-4 w-10 h-10 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-colors", children: "\u2715" })] }) }))] }));
};
